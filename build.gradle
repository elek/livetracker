apply plugin: 'war'
apply plugin: 'application'
apply plugin: 'idea'

applicationName = "livetrack"
mainClassName = "net.anzix.livetrack.Starter"

repositories {
    mavenCentral()
}

compileJava.options.encoding = 'utf-8'

dependencies {
    compile 'com.google.sitebricks:sitebricks:0.8.8'
    compile('com.google.sitebricks:sitebricks-channel:0.8.8'){
    	    exclude module: 'jetty-websocket'
	    exclude module: 'jetty-continuation'
	    exclude group:  'com.google.appengine'
	    
    }
    compile 'javax.servlet:servlet-api:2.5'
    runtime 'ch.qos.logback:logback-classic:1.0.12'
}

ENV = System.getenv();
httpPort = Integer.parseInt(ENV['PORT']!=null?ENV['PORT']:"8888")

/*jettyRun {
   contextPath = "/"
}*/

task stage(dependsOn: ['clean', 'installApp'])

task wrapper(type: Wrapper) {
    gradleVersion = '1.4'
}
